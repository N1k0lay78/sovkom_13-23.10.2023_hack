# sovkomstud

## GIT

Всё операции проводить через GitHub Desktop, тк PyCharm может сделать неправильный automerge

### Ветки (Branch)

название ветки в формате feature_id

### Комиты (Commit)

#### title

feat *text* - (feature - что-то новое) создал/разработал/спроектировал/добавил<br>
fix *text* - (fix - исправил ошибку) починил/исправил<br>
ref *text* - (refactor - переделал) переписал/изменил логику

#### description

Описание должно быть ёмким и кратким

## Tasks

Задачи лежат на доске trello, перед выполнением лучше обсудить реализацию

## Архитектура сайта

Используем паттерн MVC.

### Точка входа

Запуск файла `main.py`.<br>

### Model (папка data)

Хранит модель базы данных и конвейер по работе с DB.

#### Education (Обучение)

Хранит таблицы связанные с обучением: 
- занятия (**Lesson**)
- мероприятия (**Event**)
- успеваемость (**Assessments**)
- сертификаты (**Certificate**) 

#### Material (Материалы)

Созданы полиморфные классы материалов для унификации работы с разными файлами. 

Хранит таблицы связанные с материалами для обучения: 
- материал (**Material**) - родительский полиморфный класс
- конспект (**Abstract**) - наследник класса **Material**
- презентация (**Presentation**) - наследник класса **Material**
- видео (**Video**) - наследник класса **Material**
- файл (**File**) - наследник класса **Material**
- доступ (**Access**)

#### Questionnaires (Запросы) 

Хранит таблицы формы запроса:
- Заявка на обучение (**Join**)
- Сообщения (**Message**)
- Запрос в службу технической поддержки (**Help**) - _deprecated_

#### Users (Пользователи и группы)

Созданы полиморфные классы пользователей для упрощения логина (логин происходит через одну форму).

Хранит таблицы связанные с пользователями:
- Пользователь (**User**) - родительский полиморфный класс
- Студент (**Student**) - наследник класса **User**
- Преподаватель (**Academic**) - наследник класса **User**
- Куратор (**Curator**) - наследник класса **User**
- Группы (**Group**)

### Controller

Выполняет запросы в базу данных, и формирует ответ.

### View (Views)

Выполняет роутинг, обработку входящих данных, передачу их в контроллер, формирует ответ (HTMl, Json).<br> 
В файле `tools.py` лежит рендер формы. 

Блоки страниц:
- academic - работа со страницами профиля преподавателя  
- curator - работа со страницами профиля куратора
- student - работа со страницами профиля студента
- index - другие страницы (главная, логин, логоут и тп)
- api - API сайта

### DataBase (DB)

База данных лежит в папке db.<br>
Перед первым запуском надо удалить базу данных и запустить файл `create_data.py` для создания и заполнения базы данных.

### static (Ресурсы)

Ресурсы для отображения страниц.

### templates (Шаблоны)

Шаблоны страниц.

## Структура сайта

### Личный кабинет

#### У всех

Сообщения:
- написать
- написать группе (только для academic и curator)
- входящие
- отправленные

Профиль:
- Редактировать профиль

#### У студента

Расписание:
- Расписание 
  - общее (главная/по умолчанию)
  - по группам
- Расписание моих мероприятий

Материалы:
- Занятия
  - Материалы 
    - Видео
    - Конспекты
    - Презентации
- Файлы (файлы, например DataSet для обучения ИИ)

Мероприятия:
- Ведущий (возможно)
- Мои мероприятия (в которых я принимаю участие)
- Все мероприятия

Успеваемость:
- Группы
  - Занятия
    - Оценки и посещаемость
- Сертификаты

#### У преподавателя

Расписание:
- Расписание
  - общее (Главная/по умолчанию)
  - по группам

Занятия:
- Занятия
  - Занятие
    - Выставить оценки/посещаемость

Материалы:
- Материалы
  - Создать
  - Материал
    - Редактировать
    - Изменить доступ (по группам)
    - Удалить
- Файлы
  - Создать
  - Файл
    - Редактировать
    - Изменить доступ (по группам)
    - Удалить

#### У куратора

Список групп:
- Список групп
  - Создать группу 
  - Группа
    - Написать группе 
    - Расписание
    - Успеваемость
    - Студенты
      - Выдать сертификаты 
      - Студент 
        - Написать
        - Информация
        - Удалить
    - Редактировать

Мероприятия:
- Мероприятия
  - Создать мероприятие
  - Мероприятие
    - Назначить ведущих
    - Изменить информацию о мероприятии
    - Изменить дату и длительность
    - Участники
      - Выдать сертификаты
    - Удалить мероприятие

Выпускники:
- Направления
  - Сортировки
    - По успеваемости
    - По количеству сертификатов
  - Выпускник
    - Контакты

Преподаватели:
- Преподаватели
  - Создать
  - Преподаватель
    - Написать
    - Занятия
      - Создать
      - Занятие
        - Редактировать список групп, которые посещают занятия
        - Редактировать время и количество занятий
        - Удалить
    - Удалить

Анкеты:
- Поступление
  - Анкета
    - Принять (создать аккаунт)
    - Отклонить
